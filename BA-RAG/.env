# =============================================================================
# GraphQL to ChromaDB Pipeline Configuration
# Copy this file to .env and fill in your actual values
# =============================================================================

# REQUIRED: GraphQL Backend Configuration
# =============================================================================
# The endpoint URL of your GraphQL API
GRAPHQL_ENDPOINT=https://wuerzburg-mitmachen.de/graphql

# Optional: HTTP headers for GraphQL requests (JSON format)
# Include authentication headers, content-type, etc.
# GRAPHQL_HEADERS="{"Content-Type": "application/json"}"

# Optional: Custom GraphQL query (if not provided, uses default generic query)
# Make sure to escape quotes properly or use single quotes
# GRAPHQL_QUERY=query GetAllData($limit: Int, $offset: Int) { items(limit: $limit, offset: $offset) { id title content createdAt updatedAt tags } }

# REQUIRED: ChromaDB Configuration
# =============================================================================
# ChromaDB server host (since you're using hosted ChromaDB)
CHROMADB_HOST=host.docker.internal

# ChromaDB server port
CHROMADB_PORT=8000

# Collection name in ChromaDB where data will be stored
CHROMADB_COLLECTION=graphql_data

# OPTIONAL: Application Configuration
# =============================================================================
# Embedding model for ChromaDB (sentence-transformers model name)
EMBEDDING_MODEL=all-MiniLM-L6-v2

# How often to sync data (in seconds). Default: 300 (5 minutes)
SYNC_INTERVAL_SECONDS=300

# Batch size for GraphQL pagination. Default: 100
BATCH_SIZE=100

# Run mode: 'continuous' for daemon mode, 'once' for single run
RUN_MODE=continuous

# Enable health check endpoint (optional)
HEALTH_CHECK_ENABLED=false

# OPTIONAL: Schema Auto-Discovery Configuration
# =============================================================================
# Enable automatic GraphQL schema discovery. Default: true
AUTO_DISCOVER_SCHEMA=true

# Maximum depth for auto-generated queries. Default: 3
MAX_QUERY_DEPTH=3

# Comma-separated list of types/fields to exclude from auto-discovery
# Example: User,Post,privateField
EXCLUDED_TYPES=

# Comma-separated list of types/fields to include (if set, only these will be included)
# Example: Article,Blog,Content
INCLUDED_TYPES=

# =============================================================================
# Example Configurations for Different Scenarios
# =============================================================================

# Example 1: Public GraphQL API without authentication
# GRAPHQL_ENDPOINT=https://countries.trevorblades.com/
# GRAPHQL_HEADERS={}
# GRAPHQL_QUERY=query { countries { code name emoji } }

# Example 2: GitHub GraphQL API
# GRAPHQL_ENDPOINT=https://api.github.com/graphql
# GRAPHQL_HEADERS={"Authorization": "Bearer ghp_your_github_token"}
# GRAPHQL_QUERY=query($limit: Int) { viewer { repositories(first: $limit) { nodes { name description createdAt } } } }

# Example 3: Shopify GraphQL API
# GRAPHQL_ENDPOINT=https://your-shop.myshopify.com/admin/api/2023-10/graphql.json
# GRAPHQL_HEADERS={"X-Shopify-Access-Token": "your-access-token"}

# Example 4: Local ChromaDB
# CHROMADB_HOST=localhost
# CHROMADB_PORT=8000

# Example 5: Hosted ChromaDB
# CHROMADB_HOST=your-chromadb-instance.hosted-service.com
# CHROMADB_PORT=443 